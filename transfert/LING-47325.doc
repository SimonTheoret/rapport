<!DOCTYPE html>
<html>
<head>
    <title>[#LING-47325] Nettoyage du corpus A12FR</title>
    <meta http-equiv="Content-Type" Content="application/vnd.ms-word; charset=UTF-8">
        <style type="text/css">

.tableBorder, .grid
{
    background-color: #fff;
    width: 100%;
    border-collapse: collapse;
}

.tableBorder td, .grid td
{
    vertical-align: top;
    padding: 2px;
    border: 1px solid #ccc;
}

.noPadding
{
    padding: 0 !important;
}

h3 .subText
{
    font-size: 60%;
    font-weight: normal;
}

.tabLabel
{
    font-weight: bold;
    border: 1px solid #ccc;
    border-bottom:none;
    padding: 2px;
    display: inline;
}

td.blank
{
    padding: 0;
    margin: 0;
}

.blank td
{
    border: none;
}

#descriptionArea
{
    margin: 0;
    padding: 2px;
    border: 1px solid #ccc;
}

hr
{
    border-top:1px solid #aaa;
}

hr.fullcontent
{
  height: 15px;
  padding: 10px 0;
  background: #fff url('https://dagda.druide/images/icons/hr.gif') no-repeat scroll center;
}

</style>

</head>
<body>

<table class="tableBorder" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td bgcolor="#f0f0f0" width="100%" colspan="2" valign="top">
                            <h3 class="formtitle">
                        [LING-47325]&nbsp;<a href="https://dagda.druide/browse/LING-47325">Nettoyage du corpus A12FR</a>
            <span class="subText">
               Création: 2024-08-23                   &nbsp;Mise à jour: 2024-10-02

                                                    &nbsp;Résolue: 2024-10-02
                            </span>
            </h3>
        </td>
    </tr>
    <tr>
        <td width="20%"><b>État:</b></td>
        <td width="80%">Fermé</td>
    </tr>
    <tr>
        <td width="20%"><b>Projet:</b></td>
        <td width="80%"><a href="https://dagda.druide/secure/BrowseProject.jspa?id=10905">LibLing</a></td>
    </tr>

        <tr>
            <td><b>Composants:</b></td>
            <td>
                            Aucune
                </td>
    </tr>
    

        <tr>
            <td><b>Affecte la/les version(s):</b></td>
            <td>
                            Aucune
                </td>
    </tr>
    

        <tr>
            <td><b>Version(s) corrigée(s):</b></td>
            <td>
                            Aucune
                </td>
    </tr>
    
    </table>

<br />
<table class="grid" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td bgcolor="#f0f0f0" valign="top" width="20%">
            <b>Type:</b>
        </td>
        <td bgcolor="#ffffff" valign="top"  width="30%" >
            Nouveauté
        </td>

                    <td bgcolor="#f0f0f0">
                <b>Priorité:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" nowrap>
                Normale
            </td>
            </tr>
    <tr>
                        <td bgcolor="#f0f0f0" valign="top" width="20%">
                <b>Rapporteur:</b>
            </td>
            <td bgcolor="#ffffff" valign="top"  width="30%" >
                                            <a class="user-hover" rel="stheoret" id="word_reporter_stheoret" href="https://dagda.druide/secure/ViewProfile.jspa?name=stheoret">Simon Théorêt</a>
                            </td>
        
                    <td bgcolor="#f0f0f0" width="20%">
                <b>Responsable:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" nowrap  width="30%" >
                                            <a class="user-hover" rel="stheoret" id="word_assignee_stheoret" href="https://dagda.druide/secure/ViewProfile.jspa?name=stheoret">Simon Théorêt</a>
                            </td>
            </tr>
    	<tr>
		<td bgcolor="#f0f0f0" width="20%">
			<b>Résolution:</b>
		</td>
		<td bgcolor="#ffffff" valign="top" width="30%" nowrap>
                            Réglé
                    </td>
                    <td bgcolor="#f0f0f0" width="20%">
                <b>Votes:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" width="30%" nowrap>
                0
            </td>
        
    </tr>
    
        <tr>
        <td bgcolor="#f0f0f0" width="20%">
            <b>Étiquettes:</b>
        </td>
        <td id="labels-325802-value" class="value" bgcolor="#ffffff" valign="top" colspan="3" nowrap>
                            Aucune
                    </td>
    </tr>
    
    	<tr>
        		<td bgcolor="#f0f0f0" width="20%"><b>Estimation restante:</b></td>
        <td bgcolor="#ffffff" valign="top" nowrap width="80%" colspan="3">
                            Non spécifié
            		</td>
    </tr>
    <tr>
                <td bgcolor="#f0f0f0" width="20%"><b>Temps consacré:</b></td>
		<td bgcolor="#ffffff" valign="top" nowrap width="80%" colspan="3">
                            Non spécifié
            		</td>
	</tr>
    <tr>
                <td bgcolor="#f0f0f0" width="20%"><b>Estimation originale:</b></td>
		<td bgcolor="#ffffff" valign="top" nowrap width="80%" colspan="3">
                            Non spécifié
            		</td>
    </tr>
    
    </table>



    <br />

    	<table class="grid" cellpadding="0" cellspacing="0" border="0" width="100%">
            

                <tr>
            <td bgcolor="#f0f0f0" width=20% valign=top>
                <b>Pièces jointes:</b>
            </td>
            <td bgcolor="#ffffff" valign="top">
                                    <img src="https://dagda.druide/images/icons/attach/file.gif" height="16" width="16" border="0" alt="Fichier" role="presentation">
                    stats.json &nbsp;&nbsp;&nbsp;
                                    <img src="https://dagda.druide/images/icons/attach/file.gif" height="16" width="16" border="0" alt="Fichier" role="presentation">
                    stats_dedup.json &nbsp;&nbsp;&nbsp;
                            </td>
        </tr>
        
    



                                                <tr>
                <td bgcolor="#f0f0f0" width="20%" valign="top"><b>Tri:</b></td>
                <td id="customfield_10700-325802-value" class="value" bgcolor="#ffffff" width="80%">    Indéterminé
</td>
            </tr>
                                                                                                                                                            </table>

    <br/>

    <table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
    <tr>
        <td bgcolor="#bbbbbb" width="1%" nowrap align="center">
            &nbsp;<font color="#ffffff"><b>Descriptif</b></font>&nbsp;
        </td>
        <td>&nbsp;</td>
    </tr>
    </table>

    <table cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td id="descriptionArea">
            <p><a href="https://dagda.druide/secure/ViewProfile.jspa?name=scharest" class="user-hover" rel="scharest">Simon Charest</a> <a href="https://dagda.druide/secure/ViewProfile.jspa?name=jrakotobe" class="user-hover" rel="jrakotobe">Joss Rakotobe</a> <a href="https://dagda.druide/secure/ViewProfile.jspa?name=sgazali" class="user-hover" rel="sgazali">Saif Gazali</a> <a href="https://dagda.druide/secure/ViewProfile.jspa?name=ntrudel" class="user-hover" rel="ntrudel">Nicolas Trudel-Mallet</a> </p>

<p>J'ai utilisé la librairie <a href="https://github.com/huggingface/datatrove" class="external-link" target="_blank" rel="nofollow noopener">Datatrove</a> pour nettoyer le corpus A12FR à l'aide d'un pipeline consistant en plusieurs filtres. Je suis encore en train de collecter les statistiques plus précises et je dois créer un second pipeline pour la déduplication. Cependant, voici quelques statistiques sommaires provenant du nettoyage:</p>
<ul>
	<li>314 907 209 lignes/exemples dans le corpus initial</li>
	<li>242 710 245 lignes/exemples dans le corpus nettoyé</li>
	<li>Taux de rétention de 77%</li>
	<li>72 196 964 d'exemples retirés</li>
	<li>Filtres utilisés, dans leur ordre d'apparition dans le pipeline ainsi que le nombre d'exemples qu'ils ont retirés:
	<ul>
		<li>filtre de longueur: 38 585 180</li>
		<li>filtre de langue: 8 283 109</li>
		<li>Gopher: retiré 25 228 530</li>
		<li>C4: retiré 14 741 exemples</li>
	</ul>
	</li>
</ul>


<p> </p>

<p>Le filtre de longueur élimine les exemples de moins de 6 mots. Le filtre de langue retire les exemples qui ne sont pas en français (utilise un modèle de <a href="https://fasttext.cc/" class="external-link" target="_blank" rel="nofollow noopener">FastText</a>). Le filtre Gopher retire les exemples dont:</p>
<ul>
	<li>la longueur est supérieure à 100000 mots et inférieure à 5 mots,</li>
	<li>la proportion de lettres parmi l'exemple est inférieure à 70%,</li>
	<li>la proportion de symboles parmi les mots est supérieure à 10%</li>
	<li>le nombre de <em>stop words</em> est inférieur à 2</li>
</ul>


<p>Finalement le filtre C4 retirer les exemples qui contiennent du Javascript, le terme <em>lorem ipsum</em>, le symbole '{' ou des conditions d'utilisation.</p>
            <br/>
        </td>
    </tr>
    </table>

    <br/>

    <table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
    <tr>
        <td bgcolor="#bbbbbb" width="1%" nowrap align="center">
            &nbsp;<font color="#ffffff"><b>Commentaires</b></font>&nbsp;
        </td>
        <td>&nbsp;</td>
    </tr>
    </table>

    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="grid" style="margin: 0;">
                <tr id="comment-header-559173"><td bgcolor="#f0f0f0">
            Commentaire de  
                                                        <a class="user-hover" rel="stheoret" id="word_commented_stheoret" href="https://dagda.druide/secure/ViewProfile.jspa?name=stheoret">Simon Théorêt</a>
                                        <font size="-2">
            [
                <font color="#336699">2024-08-23</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-559173"><td bgcolor="#ffffff">
            <p>Les statistiques complètes sont disponibles dans le fichier suivant:  <span class="nobr"><a href="https://dagda.druide/secure/attachment/157002/157002_stats.json" title="stats.json attached to LING-47325">stats.json<sup><img class="rendericon" src="https://dagda.druide/images/icons/link_attachment_7.gif" height="7" width="7" align="absmiddle" alt="" border="0"/></sup></a></span> . Ce dernier contient beaucoup d'informations quant à la vitesse des filtres, les raisons pourquoi les exemples sont retirés ainsi que le nombre d'exemples retirés.</p>
        </td></tr>
                <tr id="comment-header-560010"><td bgcolor="#f0f0f0">
            Commentaire de  
                                                        <a class="user-hover" rel="stheoret" id="word_commented_stheoret" href="https://dagda.druide/secure/ViewProfile.jspa?name=stheoret">Simon Théorêt</a>
                                        <font size="-2">
            [
                <font color="#336699">2024-08-27</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-560010"><td bgcolor="#ffffff">
            <p>La déduplication du corpus est terminée.  Le pipeline a retiré 807081 exemples potentiellement dédupliqués. Les statistiques sont disponibles dans le fichier suivant: <span class="nobr"><a href="https://dagda.druide/secure/attachment/157263/157263_stats_dedup.json" title="stats_dedup.json attached to LING-47325">stats_dedup.json<sup><img class="rendericon" src="https://dagda.druide/images/icons/link_attachment_7.gif" height="7" width="7" align="absmiddle" alt="" border="0"/></sup></a></span>.</p>
        </td></tr>
            </table>
Généré à Mon Nov 25 13:39:46 EST 2024 par Simon Th&amp;eacute;or&amp;ecirc;t avec Jira 9.12.1#9120001-sha1:8c0c8f70eab515e2bf355d9d5534c5f201e526a9.

</body>
</html>